(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{223:function(t,e,r){"use strict";r.r(e);var a=r(6),n=Object(a.a)({},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"changelog"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#changelog","aria-hidden":"true"}},[t._v("#")]),t._v(" changelog")]),t._v(" "),r("p",[r("a",{attrs:{name:"2.0.0-rc.4"}})]),t._v(" "),r("h2",{attrs:{id:"_2-0-0-rc-4-2019-06-11"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-0-0-rc-4-2019-06-11","aria-hidden":"true"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/compare/v1.4.5...v2.0.0-rc.4",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("2.0.0-rc.4")]),r("OutboundLink")],1),t._v(" (2019-06-11)")]),t._v(" "),r("p",[t._v("v2.0.0 is a significant release. This is a release candidate available on npm\nunder the "),r("code",[t._v("@next")]),t._v(" tag. The highlights are:")]),t._v(" "),r("ul",[r("li",[t._v("rewritten in TypeScript")]),t._v(" "),r("li",[t._v("plugin support")]),t._v(" "),r("li",[t._v("Node 8.10 minimum version requirement")])]),t._v(" "),r("p",[t._v("To try it out, use:")]),t._v(" "),r("div",{staticClass:"language-sh extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# using yarn")]),t._v("\nyarn add trilogy@next\nyarn add trilogy@2.0.0-rc.4\n\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# using npm")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i trilogy@next\n"),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i trilogy@2.0.0-rc.4\n")])])]),r("h4",{attrs:{id:"codename-solid-source"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#codename-solid-source","aria-hidden":"true"}},[t._v("#")]),t._v(" codename: solid source")]),t._v(" "),r("p",[t._v("trilogy has been rewritten in TypeScript, which has already paid off â€”\nthe last two 1.x patch releases contained fixes found in the process of refactoring\nthe code base with types. It also provides a much better editing experience:")]),t._v(" "),r("details",[r("summary",[t._v("click to expand")]),t._v(" "),r("div",{staticClass:"language-ts extra-class"},[r("pre",{pre:!0,attrs:{class:"language-ts"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" trilogy "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'trilogy'")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" db "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" trilogy"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("':memory:'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// you can provide types like this to `model()`")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// to get compiler assistance")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" Person "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" people "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" db"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("model"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Person"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'people'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" people"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" names"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'typo'")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// !> Property 'names' does not exist in type 'Person'. Did you mean 'name'?")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),r("h4",{attrs:{id:"lifecycle-hooks"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#lifecycle-hooks","aria-hidden":"true"}},[t._v("#")]),t._v(" lifecycle hooks")]),t._v(" "),r("p",[t._v("A set of lifecycle hooks has been implemented, of which "),r("code",[t._v("before*")]),t._v(" variants support\ncanceling events. These hooks are useful for debugging, logging, and simple\nplugin-like addons.")]),t._v(" "),r("details",[r("summary",[t._v("click to expand")]),t._v(" "),r("div",{staticClass:"language-ts extra-class"},[r("pre",{pre:!0,attrs:{class:"language-ts"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" connect"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" EventCancellation "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("require")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./dist'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" db "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("':memory:'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" notRobots "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" db"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("model")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'notRobots'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    intelligence"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Number\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" unsub "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" notRobots"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeCreate")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" person "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("intelligence "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1650")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ignoring total human- ... uh, robot'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" EventCancellation\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    person"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("' (totally not a robot)'")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" db"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'notRobots'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0110101101001111010001010'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    intelligence"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("96156615")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -> { name: '0110101101001111010001010 (totally not a robot)',")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//      intelligence: 96156615 }")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" db"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'notRobots'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Tom'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    intelligence"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "ignoring total human- ... uh, robot"')]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -> undefined")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// removes the hook, objects after this are unaffected")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("unsub")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" db"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),r("h6",{attrs:{id:"bug-fixes"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bug-fixes","aria-hidden":"true"}},[t._v("#")]),t._v(" BUG FIXES")]),t._v(" "),r("ul",[r("li",[t._v("store dates as ISO formatted strings ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/d2a7cda",target:"_blank",rel:"noopener noreferrer"}},[t._v("d2a7cda"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("h6",{attrs:{id:"features"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#features","aria-hidden":"true"}},[t._v("#")]),t._v(" FEATURES")]),t._v(" "),r("ul",[r("li",[t._v("write trilogy in typescript")]),t._v(" "),r("li",[t._v("add lifecycle hooks")]),t._v(" "),r("li",[t._v("remove "),r("code",[t._v("verbose")]),t._v(" in favor of "),r("code",[t._v("onQuery")]),t._v(" hook ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/cf7d085",target:"_blank",rel:"noopener noreferrer"}},[t._v("cf7d085"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("invariant:")]),t._v(" throw standard "),r("code",[t._v("Error")]),t._v(" instead of custom type ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/5a4bf70",target:"_blank",rel:"noopener noreferrer"}},[t._v("5a4bf70"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("schema:")]),t._v(" make "),r("code",[t._v("nullable")]),t._v(" actually work inversely to "),r("code",[t._v("notNullable")]),t._v(" ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/e4ccc51",target:"_blank",rel:"noopener noreferrer"}},[t._v("e4ccc51"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("schema-helpers:")]),t._v(" throw on non-string column types ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/43eebb6",target:"_blank",rel:"noopener noreferrer"}},[t._v("43eebb6"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("where,cast:")]),t._v(" make casting & where clauses stricter ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/3ecee37",target:"_blank",rel:"noopener noreferrer"}},[t._v("3ecee37"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("schema-helpers:")]),t._v(" throw on empty schemas ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/pull/82/commits/ce4a066ecea487a995eade1d210b27cb9b2398cb",target:"_blank",rel:"noopener noreferrer"}},[t._v("ce4a066"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[t._v("throw if property name is required but not provided ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/ede6363",target:"_blank",rel:"noopener noreferrer"}},[t._v("ede6363"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("find*:")]),t._v(" move column signatures into their own methods ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/pull/82/commits/a73f77398dad236bcfd03a033861fbff05269b41",target:"_blank",rel:"noopener noreferrer"}},[t._v("a73f773"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("count:")]),t._v(" split "),r("code",[t._v("model.count")]),t._v(" with column to "),r("code",[t._v("countIn")]),t._v(" ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/pull/82/commits/df4ccb4754a29c1434f7326c7f2a3c27fb57fd34",target:"_blank",rel:"noopener noreferrer"}},[t._v("df4ccb4"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("schema-helpers:")]),t._v(" throw on invalid column types ("),r("a",{attrs:{href:"https:/github.com/citycide/trilogy/pull/82/9d22fc221db8d14c63b2a2b435683371a19bd69d",target:"_blank",rel:"noopener noreferrer"}},[t._v("9d22fc2"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[t._v("enforce valid option parameters with "),r("code",[t._v("runtypes")]),t._v(" ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/755555d",target:"_blank",rel:"noopener noreferrer"}},[t._v("755555d"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[t._v("unabbreviate "),r("code",[t._v("incr")]),t._v(" & "),r("code",[t._v("decr")]),t._v(" methods ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/04404fe",target:"_blank",rel:"noopener noreferrer"}},[t._v("04404fe"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[t._v("upgrade to sql.js 1.x ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/9669dcf",target:"_blank",rel:"noopener noreferrer"}},[t._v("9669dcf"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("h6",{attrs:{id:"performance"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#performance","aria-hidden":"true"}},[t._v("#")]),t._v(" PERFORMANCE")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("count:")]),t._v(" avoid "),r("code",[t._v("arguments")]),t._v(" usage ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/cb33ff1",target:"_blank",rel:"noopener noreferrer"}},[t._v("cb33ff1"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("h6",{attrs:{id:"breaking-changes"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes","aria-hidden":"true"}},[t._v("#")]),t._v(" BREAKING CHANGES")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("schema:")]),t._v(" providing both the "),r("code",[t._v("nullable")]),t._v(" & "),r("code",[t._v("notNullable")]),t._v(" properties will cause an "),r("code",[t._v("Error")]),t._v(" to be thrown.")]),t._v(" "),r("li",[r("strong",[t._v("where,cast:")]),t._v(" invalid where clauses and unrecognized types at casting will now cause "),r("code",[t._v("Error")]),t._v("s to be thrown.")]),t._v(" "),r("li",[r("strong",[t._v("schema-helpers:")]),t._v(" an error will be thrown when column type cannot be retrieved.")]),t._v(" "),r("li",[r("strong",[t._v("invariant:")]),t._v(" "),r("code",[t._v("InvariantError")]),t._v("s are no longer thrown, they are "),r("code",[t._v("Error")]),t._v("s instead.")]),t._v(" "),r("li",[r("strong",[t._v("flow:")]),t._v(" flow definitions have been removed.")]),t._v(" "),r("li",[r("strong",[t._v("find*:")]),t._v(" "),r("code",[t._v("find()")]),t._v(" and "),r("code",[t._v("findOne()")]),t._v(" on models no longer accept an optional column argument. Instead, use the new "),r("code",[t._v("findIn()")]),t._v(" or "),r("code",[t._v("findOneIn()")]),t._v(" methods. Top level trilogy methods still accept "),r("code",[t._v("table.column")]),t._v(" dot notation.")]),t._v(" "),r("li",[r("strong",[t._v("count:")]),t._v(" "),r("code",[t._v("model.count")]),t._v(" no longer has a signature allowing a column as the first parameter. This is now a separate method called "),r("code",[t._v("countIn")]),t._v(".")]),t._v(" "),r("li",[r("strong",[t._v("schema-helpers:")]),t._v(" using an unknown column type in a descriptor will now result in an error.")]),t._v(" "),r("li",[t._v("an error will now be thrown immediately from methods that require a property name if none is provided.")]),t._v(" "),r("li",[t._v("date serialization has changed to improve reliability and predictability.")]),t._v(" "),r("li",[r("code",[t._v("incr")]),t._v(" & "),r("code",[t._v("decr")]),t._v(" have been renamed to "),r("code",[t._v("increment")]),t._v(" & "),r("code",[t._v("decrement")]),t._v(".")]),t._v(" "),r("li",[t._v("invalid options objects passed to methods accepting them will now cause exceptions to be thrown.")]),t._v(" "),r("li",[t._v("the "),r("code",[t._v("verbose")]),t._v(" option has been removed from trilogy instances. Use the new "),r("code",[t._v("onQuery")]),t._v(" hook instead.")])]),t._v(" "),r("p",[t._v("Support for Node 4 and Node 6 has been dropped, meaning trilogy now requires >=8.10.")]),t._v(" "),r("p",[t._v("trilogy no longer has a default export in order to better support TypeScript\nusers. The recommended way to create a new instance has also changed (though\nthe old way is still possible).")]),t._v(" "),r("div",{staticClass:"language-js extra-class"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// before")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Trilogy "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'trilogy'")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" db "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Trilogy")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("':memory:'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),r("div",{staticClass:"language-js extra-class"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// after")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" connect "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'trilogy'")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" db "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("':memory:'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),r("hr"),t._v(" "),r("p",[r("a",{attrs:{name:"1.4.5"}})]),t._v(" "),r("h2",{attrs:{id:"_1-4-5-2018-04-24"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-5-2018-04-24","aria-hidden":"true"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/compare/v1.4.4...v1.4.5",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("1.4.5")]),r("OutboundLink")],1),t._v(" (2018-04-24)")]),t._v(" "),r("p",[t._v("No changes since "),r("code",[t._v("1.4.4")]),t._v(" - this release restores the v1 release line to the "),r("code",[t._v("latest")]),t._v(" tag,\nwhere a v2 beta was accidentally publish.")]),t._v(" "),r("hr"),t._v(" "),r("p",[r("a",{attrs:{name:"1.4.4"}})]),t._v(" "),r("h2",{attrs:{id:"_1-4-4-2018-01-09"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-4-2018-01-09","aria-hidden":"true"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/compare/v1.4.3...v1.4.4",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("1.4.4")]),r("OutboundLink")],1),t._v(" (2018-01-09)")]),t._v(" "),r("h6",{attrs:{id:"bug-fixes-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bug-fixes-2","aria-hidden":"true"}},[t._v("#")]),t._v(" BUG FIXES")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("enforcers:")]),t._v(" "),r("code",[t._v("groupBy")]),t._v(" -> "),r("code",[t._v("group")]),t._v(" ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/3eaed9a",target:"_blank",rel:"noopener noreferrer"}},[t._v("3eaed9a"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("hr"),t._v(" "),r("p",[r("a",{attrs:{name:"1.4.3"}})]),t._v(" "),r("h2",{attrs:{id:"_1-4-3-2018-01-09"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-3-2018-01-09","aria-hidden":"true"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/compare/v1.4.2...v1.4.3",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("1.4.3")]),r("OutboundLink")],1),t._v(" (2018-01-09)")]),t._v(" "),r("h6",{attrs:{id:"bug-fixes-3"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bug-fixes-3","aria-hidden":"true"}},[t._v("#")]),t._v(" BUG FIXES")]),t._v(" "),r("ul",[r("li",[t._v("handle tuple where clauses correctly ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/efbea74",target:"_blank",rel:"noopener noreferrer"}},[t._v("efbea74"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("hr"),t._v(" "),r("p",[r("a",{attrs:{name:"1.4.2"}})]),t._v(" "),r("h2",{attrs:{id:"_1-4-2-2017-12-08"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-2-2017-12-08","aria-hidden":"true"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/compare/v1.4.1...v1.4.2",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("1.4.2")]),r("OutboundLink")],1),t._v(" (2017-12-08)")]),t._v(" "),r("h6",{attrs:{id:"bug-fixes-4"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bug-fixes-4","aria-hidden":"true"}},[t._v("#")]),t._v(" BUG FIXES")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("create:")]),t._v(" prevent error while searching for last object ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/5379bb5",target:"_blank",rel:"noopener noreferrer"}},[t._v("5379bb5"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("types:")]),t._v(" handle nullish values when casting ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/e8193c6",target:"_blank",rel:"noopener noreferrer"}},[t._v("e8193c6"),r("OutboundLink")],1),t._v("), closes "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/issues/79",target:"_blank",rel:"noopener noreferrer"}},[t._v("#79"),r("OutboundLink")],1)])]),t._v(" "),r("h6",{attrs:{id:"performance-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#performance-2","aria-hidden":"true"}},[t._v("#")]),t._v(" PERFORMANCE")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("util:")]),t._v(" use "),r("code",[t._v("indexOf")]),t._v(" instead of "),r("code",[t._v("some()")]),t._v(" ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/559dbe0",target:"_blank",rel:"noopener noreferrer"}},[t._v("559dbe0"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("hr"),t._v(" "),r("p",[r("a",{attrs:{name:"1.4.1"}})]),t._v(" "),r("h2",{attrs:{id:"_1-4-1-2017-11-16"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-1-2017-11-16","aria-hidden":"true"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/compare/v1.4.0...v1.4.1",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("1.4.1")]),r("OutboundLink")],1),t._v(" (2017-11-16)")]),t._v(" "),r("p",[t._v("Small patch for TypeScript users to correctly export types.")]),t._v(" "),r("h6",{attrs:{id:"bug-fixes-5"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bug-fixes-5","aria-hidden":"true"}},[t._v("#")]),t._v(" BUG FIXES")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("types")]),t._v(": fix TypeScript typings (#75) @IKnowBashFu")])]),t._v(" "),r("hr"),t._v(" "),r("p",[r("a",{attrs:{name:"1.4.0"}})]),t._v(" "),r("h2",{attrs:{id:"_1-4-0-2017-11-04"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-0-2017-11-04","aria-hidden":"true"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/compare/v1.3.0...v1.4.0",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("1.4.0")]),r("OutboundLink")],1),t._v(" (2017-11-04)")]),t._v(" "),r("h6",{attrs:{id:"features-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#features-2","aria-hidden":"true"}},[t._v("#")]),t._v(" FEATURES")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("model:")]),t._v(" allow multiple indices in model definitions, "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/pull/72",target:"_blank",rel:"noopener noreferrer"}},[t._v("#72"),r("OutboundLink")],1),t._v(" ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/07ebe16",target:"_blank",rel:"noopener noreferrer"}},[t._v("07ebe16"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("hr"),t._v(" "),r("p",[r("a",{attrs:{name:"1.3.0"}})]),t._v(" "),r("h2",{attrs:{id:"_1-3-0-2017-08-24"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-0-2017-08-24","aria-hidden":"true"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/compare/v1.2.1...v1.3.0",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("1.3.0")]),r("OutboundLink")],1),t._v(" (2017-08-24)")]),t._v(" "),r("p",[t._v("This release brings a pair of exciting features!")]),t._v(" "),r("p",[t._v("First up is the ability to define getters and setters when creating models.\nThese are useful for things like formatting after selects and making sure\nconforming data before inserts.")]),t._v(" "),r("div",{staticClass:"language-js extra-class"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" people "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" db"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("model")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'people'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  username"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    type"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("username"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token template-string"}},[r("span",{pre:!0,attrs:{class:"token string"}},[t._v("`username is: ")]),r("span",{pre:!0,attrs:{class:"token interpolation"}},[r("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("username"),r("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("`")])]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("username"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// remove anything that isn't alphanumeric or underscore")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" username"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/[^\\w]/gi")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" people"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Bo Lingen'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  username"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ci.ty]ci[d/e'")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -> { name: 'Bo Lingen', username: 'citycide' }")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" people"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Bo Lingen'")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -> 'username is: citycide'")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// can use `getRaw()` and `setRaw()` to bypass getters / setters")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// other methods may also accept a `raw` property in their options object")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" people"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRaw")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Bo Lingen'")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -> 'citycide'")]),t._v("\n")])])]),r("p",[t._v("There's also a new memory-only mode - if the file path is exactly ':memory:',\nno file will be created and an in-memory store will be used. This doesn't\npersist any data but is useful for speed and performance reasons. For example,\nmost of trilogy's tests now use in-memory databases to avoid tons of disk usage.")]),t._v(" "),r("div",{staticClass:"language-js extra-class"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" db "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Trilogy")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("':memory:'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),r("h6",{attrs:{id:"bug-fixes-6"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bug-fixes-6","aria-hidden":"true"}},[t._v("#")]),t._v(" BUG FIXES")]),t._v(" "),r("ul",[r("li",[t._v("always return promises in async functions ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/009f079",target:"_blank",rel:"noopener noreferrer"}},[t._v("009f079"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("h6",{attrs:{id:"features-3"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#features-3","aria-hidden":"true"}},[t._v("#")]),t._v(" FEATURES")]),t._v(" "),r("ul",[r("li",[t._v("add support for in-memory database ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/8587f4b",target:"_blank",rel:"noopener noreferrer"}},[t._v("8587f4b"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[t._v("add getters & setters ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/ab5cd7b",target:"_blank",rel:"noopener noreferrer"}},[t._v("ab5cd7b"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[t._v("add "),r("code",[t._v("getRaw()")]),t._v(" & "),r("code",[t._v("setRaw()")]),t._v(" ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/5fe1f80",target:"_blank",rel:"noopener noreferrer"}},[t._v("5fe1f80"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("h6",{attrs:{id:"performance-3"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#performance-3","aria-hidden":"true"}},[t._v("#")]),t._v(" PERFORMANCE")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("model:")]),t._v(" use assignments in constructor ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/73e6ebd",target:"_blank",rel:"noopener noreferrer"}},[t._v("73e6ebd"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("util:")]),t._v(" optimize "),r("code",[t._v("each()")]),t._v(" and "),r("code",[t._v("map()")]),t._v(" ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/040084d",target:"_blank",rel:"noopener noreferrer"}},[t._v("040084d"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("hr"),t._v(" "),r("p",[r("a",{attrs:{name:"1.2.1"}})]),t._v(" "),r("h2",{attrs:{id:"_1-2-1-2017-07-25"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-2017-07-25","aria-hidden":"true"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/compare/v1.2.0...v1.2.1",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("1.2.1")]),r("OutboundLink")],1),t._v(" (2017-07-25)")]),t._v(" "),r("h6",{attrs:{id:"bug-fixes-7"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bug-fixes-7","aria-hidden":"true"}},[t._v("#")]),t._v(" BUG FIXES")]),t._v(" "),r("ul",[r("li",[t._v("immediately create db file for both clients ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/7423312",target:"_blank",rel:"noopener noreferrer"}},[t._v("7423312"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[t._v("fix "),r("code",[t._v(".mjs")]),t._v(" module by removing "),r("code",[t._v("module.exports")]),t._v(" usage ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/e1d57c3",target:"_blank",rel:"noopener noreferrer"}},[t._v("e1d57c3"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("hr"),t._v(" "),r("p",[r("a",{attrs:{name:"1.2.0"}})]),t._v(" "),r("h2",{attrs:{id:"_1-2-0-2017-06-09"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-0-2017-06-09","aria-hidden":"true"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/compare/v1.1.0...v1.2.0",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("1.2.0")]),r("OutboundLink")],1),t._v(" (2017-06-09)")]),t._v(" "),r("h6",{attrs:{id:"features-4"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#features-4","aria-hidden":"true"}},[t._v("#")]),t._v(" FEATURES")]),t._v(" "),r("ul",[r("li",[t._v("add initial Flow definitions ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/b9937b4",target:"_blank",rel:"noopener noreferrer"}},[t._v("b9937b4"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[t._v("add initial TypeScript definitions ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/3d9a2a5",target:"_blank",rel:"noopener noreferrer"}},[t._v("3d9a2a5"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[t._v("support multiple where clauses ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/ff481bb",target:"_blank",rel:"noopener noreferrer"}},[t._v("ff481bb"),r("OutboundLink")],1),t._v("), closes "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/issues/54",target:"_blank",rel:"noopener noreferrer"}},[t._v("#54"),r("OutboundLink")],1)])]),t._v(" "),r("hr"),t._v(" "),r("p",[r("a",{attrs:{name:"1.1.0"}})]),t._v(" "),r("h2",{attrs:{id:"_1-1-0-2017-03-23"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-0-2017-03-23","aria-hidden":"true"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/compare/v1.0.0...v1.1.0",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("1.1.0")]),r("OutboundLink")],1),t._v(" (2017-03-23)")]),t._v(" "),r("h6",{attrs:{id:"bug-fixes-8"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bug-fixes-8","aria-hidden":"true"}},[t._v("#")]),t._v(" BUG FIXES")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("findOne:")]),t._v(" error when no result and column provided ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/7394150",target:"_blank",rel:"noopener noreferrer"}},[t._v("7394150"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("h6",{attrs:{id:"features-5"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#features-5","aria-hidden":"true"}},[t._v("#")]),t._v(" FEATURES")]),t._v(" "),r("ul",[r("li",[t._v("drop fs-jetpack dependency ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/4a82ab6",target:"_blank",rel:"noopener noreferrer"}},[t._v("4a82ab6"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("hr"),t._v(" "),r("p",[r("a",{attrs:{name:"1.0.0"}})]),t._v(" "),r("h2",{attrs:{id:"_1-0-0-2017-03-16"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-0-0-2017-03-16","aria-hidden":"true"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/compare/v1.0.0-rc.5...v1.0.0",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("1.0.0")]),r("OutboundLink")],1),t._v(" (2017-03-16)")]),t._v(" "),r("p",[t._v("We've officially arrived at "),r("strong",[t._v("1.0.0")]),t._v("!")]),t._v(" "),r("p",[t._v("But don't let that stop you from submitting issues if you come across problems,\nor pull requests if there's something that can be improved or added.")]),t._v(" "),r("p",[t._v("Thanks for the help getting here!")]),t._v(" "),r("h6",{attrs:{id:"bug-fixes-9"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bug-fixes-9","aria-hidden":"true"}},[t._v("#")]),t._v(" BUG FIXES")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("incr|decr:")]),t._v(" do nothing with amounts of 0 ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/94dd9e0",target:"_blank",rel:"noopener noreferrer"}},[t._v("94dd9e0"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("hr"),t._v(" "),r("p",[r("a",{attrs:{name:"1.0.0-rc.5"}})]),t._v(" "),r("h2",{attrs:{id:"_1-0-0-rc-5-2017-02-26"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-0-0-rc-5-2017-02-26","aria-hidden":"true"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/compare/v1.0.0-rc.4...v1.0.0-rc.5",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("1.0.0-rc.5")]),r("OutboundLink")],1),t._v(" (2017-02-26)")]),t._v(" "),r("p",[t._v("This is probably the last release candidate before 1.0.0!")]),t._v(" "),r("p",[t._v("...")]),t._v(" "),r("p",[t._v("I feel like I've said that before.")]),t._v(" "),r("h6",{attrs:{id:"bug-fixes-10"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bug-fixes-10","aria-hidden":"true"}},[t._v("#")]),t._v(" BUG FIXES")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("update:")]),t._v(" handle type definitions on update ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/eeda08c",target:"_blank",rel:"noopener noreferrer"}},[t._v("eeda08c"),r("OutboundLink")],1),t._v("), closes "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/issues/31",target:"_blank",rel:"noopener noreferrer"}},[t._v("#31"),r("OutboundLink")],1)])]),t._v(" "),r("hr"),t._v(" "),r("p",[r("a",{attrs:{name:"1.0.0-rc.4"}})]),t._v(" "),r("h2",{attrs:{id:"_1-0-0-rc-4-2017-02-24"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-0-0-rc-4-2017-02-24","aria-hidden":"true"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/compare/v1.0.0-rc.3...v1.0.0-rc.4",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("1.0.0-rc.4")]),r("OutboundLink")],1),t._v(" (2017-02-24)")]),t._v(" "),r("p",[t._v("This is probably the last release candidate before 1.0.0!")]),t._v(" "),r("h6",{attrs:{id:"bug-fixes-11"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bug-fixes-11","aria-hidden":"true"}},[t._v("#")]),t._v(" BUG FIXES")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("native:")]),t._v(" ensure directory exists ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/f142cf4",target:"_blank",rel:"noopener noreferrer"}},[t._v("f142cf4"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("package:")]),t._v(" update fs-jetpack to version 0.11.0 ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/481a8d6",target:"_blank",rel:"noopener noreferrer"}},[t._v("481a8d6"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("package:")]),t._v(" update fs-jetpack to version 0.12.0 ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/3157627",target:"_blank",rel:"noopener noreferrer"}},[t._v("3157627"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("hr"),t._v(" "),r("p",[r("a",{attrs:{name:"1.0.0-rc.3"}})]),t._v(" "),r("h2",{attrs:{id:"_1-0-0-rc-3-2017-02-04"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-0-0-rc-3-2017-02-04","aria-hidden":"true"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/compare/v1.0.0-rc.2...v1.0.0-rc.3",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("1.0.0-rc.3")]),r("OutboundLink")],1),t._v(" (2017-02-04)")]),t._v(" "),r("p",[t._v("This release contains a breaking change regarding the return value of "),r("code",[t._v("create()")]),t._v(".\nYou can follow the discussion leading up to this change in\n"),r("a",{attrs:{href:"https://github.com/citycide/trilogy/issues/21",target:"_blank",rel:"noopener noreferrer"}},[t._v("#21"),r("OutboundLink")],1),t._v(",\n"),r("a",{attrs:{href:"https://github.com/citycide/trilogy/pull/22",target:"_blank",rel:"noopener noreferrer"}},[t._v("#22"),r("OutboundLink")],1),t._v(",\n& "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/pull/24",target:"_blank",rel:"noopener noreferrer"}},[t._v("#24"),r("OutboundLink")],1),t._v(".")]),t._v(" "),r("p",[t._v("Many thanks to "),r("a",{attrs:{href:"https://github.com/jonataswalker",target:"_blank",rel:"noopener noreferrer"}},[r("strong",[t._v("@jonataswalker")]),r("OutboundLink")],1),t._v(" who put in a lot of effort for this one.")]),t._v(" "),r("h6",{attrs:{id:"bug-fixes-12"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bug-fixes-12","aria-hidden":"true"}},[t._v("#")]),t._v(" BUG FIXES")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("create:")]),t._v(" last object when auto-increment key ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/6c8acc1",target:"_blank",rel:"noopener noreferrer"}},[t._v("6c8acc1"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("create:")]),t._v(" native vs "),r("code",[t._v("sql.js")]),t._v(" last object handling ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/06cfca0",target:"_blank",rel:"noopener noreferrer"}},[t._v("06cfca0"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("model:")]),t._v(" "),r("code",[t._v("sql.js")]),t._v(" not returning model on creations ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/06df94f",target:"_blank",rel:"noopener noreferrer"}},[t._v("06df94f"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("tests.model:")]),t._v(" "),r("code",[t._v("create()")]),t._v(" expected return value ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/baa6ad3",target:"_blank",rel:"noopener noreferrer"}},[t._v("baa6ad3"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("h5",{attrs:{id:"features-6"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#features-6","aria-hidden":"true"}},[t._v("#")]),t._v(" FEATURES")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("create:")]),t._v(" return the created object ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/e551bbd",target:"_blank",rel:"noopener noreferrer"}},[t._v("e551bbd"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("h6",{attrs:{id:"peformance"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#peformance","aria-hidden":"true"}},[t._v("#")]),t._v(" PEFORMANCE")]),t._v(" "),r("ul",[r("li",[t._v("optimize "),r("code",[t._v("findLastObject")]),t._v(" helper ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/e90cdff",target:"_blank",rel:"noopener noreferrer"}},[t._v("e90cdff"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("h6",{attrs:{id:"breaking-changes-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes-2","aria-hidden":"true"}},[t._v("#")]),t._v(" BREAKING CHANGES")]),t._v(" "),r("ul",[r("li",[t._v("create: The return value of "),r("code",[t._v("create()")]),t._v(" is no longer the number of created objects. Instead, "),r("code",[t._v("create()")]),t._v(" returns the created object.")])]),t._v(" "),r("hr"),t._v(" "),r("p",[r("a",{attrs:{name:"1.0.0-rc.2"}})]),t._v(" "),r("h2",{attrs:{id:"_1-0-0-rc-2-2017-01-17"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-0-0-rc-2-2017-01-17","aria-hidden":"true"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/compare/v1.0.0-rc.1...v1.0.0-rc.2",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("1.0.0-rc.2")]),r("OutboundLink")],1),t._v(" (2017-01-17)")]),t._v(" "),r("h6",{attrs:{id:"bug-fixes-13"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bug-fixes-13","aria-hidden":"true"}},[t._v("#")]),t._v(" BUG FIXES")]),t._v(" "),r("ul",[r("li",[t._v("only require "),r("code",[t._v("sql.js")]),t._v(" if not using "),r("code",[t._v("sqlite3")]),t._v(" ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/123149d",target:"_blank",rel:"noopener noreferrer"}},[t._v("123149d"),r("OutboundLink")],1),t._v("), closes "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/issues/18",target:"_blank",rel:"noopener noreferrer"}},[t._v("#18"),r("OutboundLink")],1)])]),t._v(" "),r("hr"),t._v(" "),r("p",[r("a",{attrs:{name:"1.0.0-rc.1"}})]),t._v(" "),r("h2",{attrs:{id:"_1-0-0-rc-1-2017-01-13"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-0-0-rc-1-2017-01-13","aria-hidden":"true"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/compare/v0.11.1...v1.0.0-rc.1",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("1.0.0-rc.1")]),r("OutboundLink")],1),t._v(" (2017-01-13)")]),t._v(" "),r("p",[t._v("ðŸ™Œ Welcome to the very first official release candidate of Trilogy! ðŸ™Œ")]),t._v(" "),r("p",[t._v("The next version will be v1.0.0 unless there are any significant issues discovered.")]),t._v(" "),r("p",[t._v("There have not been significant changes since v0.11.1.")]),t._v(" "),r("h6",{attrs:{id:"bug-fixes-14"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bug-fixes-14","aria-hidden":"true"}},[t._v("#")]),t._v(" BUG FIXES")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("enforcers:")]),t._v(" broken descriptor validation ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/459a485",target:"_blank",rel:"noopener noreferrer"}},[t._v("459a485"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("h6",{attrs:{id:"features-7"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#features-7","aria-hidden":"true"}},[t._v("#")]),t._v(" FEATURES")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("types:")]),t._v(" add "),r("code",[t._v("Array")]),t._v(" and "),r("code",[t._v("Object")]),t._v(" as valid types ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/421d079",target:"_blank",rel:"noopener noreferrer"}},[t._v("421d079"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("hr"),t._v(" "),r("p",[r("a",{attrs:{name:"0.11.1"}})]),t._v(" "),r("h2",{attrs:{id:"_0-11-1-2017-01-10"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_0-11-1-2017-01-10","aria-hidden":"true"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/compare/v0.10.0...v0.11.1",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("0.11.1")]),r("OutboundLink")],1),t._v(" (2017-01-10)")]),t._v(" "),r("p",[t._v("This is a small feature patch on top of v0.11.0 adding "),r("code",[t._v("model()")]),t._v(" options\nthat include the ability to set compound primary keys, multiple unique\nproperties, and add timestamp properties ("),r("code",[t._v("created_at")]),t._v(" and "),r("code",[t._v("updated_at")]),t._v(").")]),t._v(" "),r("blockquote",[r("p",[t._v("Note: the changes below are mostly from v0.11.0.")])]),t._v(" "),r("h6",{attrs:{id:"bug-fixes-15"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bug-fixes-15","aria-hidden":"true"}},[t._v("#")]),t._v(" BUG FIXES")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("enforcers:")]),t._v(" verbose option validation ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/b000a5e",target:"_blank",rel:"noopener noreferrer"}},[t._v("b000a5e"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("findOne:")]),t._v(" sqlite3 response is an object ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/2f71f5f",target:"_blank",rel:"noopener noreferrer"}},[t._v("2f71f5f"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("model:")]),t._v(" argument handling with no column ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/e76343c",target:"_blank",rel:"noopener noreferrer"}},[t._v("e76343c"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("model:")]),t._v(" make "),r("code",[t._v("model()")]),t._v(" async ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/e3d57f6",target:"_blank",rel:"noopener noreferrer"}},[t._v("e3d57f6"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("native:")]),t._v(" fix affected row return value for native queries ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/2233a0f",target:"_blank",rel:"noopener noreferrer"}},[t._v("2233a0f"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("native:")]),t._v(" query return types ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/7519f9e",target:"_blank",rel:"noopener noreferrer"}},[t._v("7519f9e"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("query:")]),t._v(" return type should always be Promise ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/31cfed7",target:"_blank",rel:"noopener noreferrer"}},[t._v("31cfed7"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("code",[t._v("models")]),t._v(" list type ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/f77aae5",target:"_blank",rel:"noopener noreferrer"}},[t._v("f77aae5"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[t._v("model existence check ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/5591860",target:"_blank",rel:"noopener noreferrer"}},[t._v("5591860"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("h6",{attrs:{id:"features-8"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#features-8","aria-hidden":"true"}},[t._v("#")]),t._v(" FEATURES")]),t._v(" "),r("ul",[r("li",[t._v("add "),r("code",[t._v("hasModel()")]),t._v(", "),r("code",[t._v("dropModel()")]),t._v(", and "),r("code",[t._v("close()")]),t._v(" ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/00c0d66",target:"_blank",rel:"noopener noreferrer"}},[t._v("00c0d66"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[t._v("add "),r("code",[t._v("raw()")]),t._v(" method for custom queries ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/2403e27",target:"_blank",rel:"noopener noreferrer"}},[t._v("2403e27"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[t._v("change "),r("code",[t._v("groupBy")]),t._v(" usages to "),r("code",[t._v("group")]),t._v(" ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/772b252",target:"_blank",rel:"noopener noreferrer"}},[t._v("772b252"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[t._v("initial commit for rewrite (#14) ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/26f739f",target:"_blank",rel:"noopener noreferrer"}},[t._v("26f739f"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("clear:")]),t._v(" add "),r("code",[t._v("clear()")]),t._v(" method, safeguard "),r("code",[t._v("remove()")]),t._v(" ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/ab671c1",target:"_blank",rel:"noopener noreferrer"}},[t._v("ab671c1"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("count:")]),t._v(" add ability to count tables in the database ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/de9a62d",target:"_blank",rel:"noopener noreferrer"}},[t._v("de9a62d"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("create:")]),t._v(" make "),r("code",[t._v("create()")]),t._v(" return # rows affected ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/695753e",target:"_blank",rel:"noopener noreferrer"}},[t._v("695753e"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("model:")]),t._v(" add model options ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/dcc874e",target:"_blank",rel:"noopener noreferrer"}},[t._v("dcc874e"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("schema:")]),t._v(" add "),r("code",[t._v("index")]),t._v(" as a valid column attribute ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/8873e34",target:"_blank",rel:"noopener noreferrer"}},[t._v("8873e34"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("sql.js:")]),t._v(" add connection pool for managing sq.js backend ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/2df8381",target:"_blank",rel:"noopener noreferrer"}},[t._v("2df8381"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("types:")]),t._v(" add "),r("code",[t._v("'timestamp'")]),t._v(" property type ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/6bd0710",target:"_blank",rel:"noopener noreferrer"}},[t._v("6bd0710"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("h6",{attrs:{id:"breaking-changes-3"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes-3","aria-hidden":"true"}},[t._v("#")]),t._v(" BREAKING CHANGES")]),t._v(" "),r("p",[t._v("Major breakage inbound. See "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/issues/14",target:"_blank",rel:"noopener noreferrer"}},[t._v("#14"),r("OutboundLink")],1),t._v(" for more info\nand useful migration tips.")]),t._v(" "),r("hr"),t._v(" "),r("p",[r("a",{attrs:{name:"0.10.0"}})]),t._v(" "),r("h2",{attrs:{id:"_0-10-0-2016-12-17"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_0-10-0-2016-12-17","aria-hidden":"true"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/compare/v0.9.2...v0.10.0",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("0.10.0")]),r("OutboundLink")],1),t._v(" (2016-12-17)")]),t._v(" "),r("h6",{attrs:{id:"bug-fixes-16"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bug-fixes-16","aria-hidden":"true"}},[t._v("#")]),t._v(" BUG FIXES")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("build:")]),t._v(" revert babel config to es2015 base ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/0e67048",target:"_blank",rel:"noopener noreferrer"}},[t._v("0e67048"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[r("strong",[t._v("tests:")]),t._v(" fix error in deletion tests (#4) ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/85160d8",target:"_blank",rel:"noopener noreferrer"}},[t._v("85160d8"),r("OutboundLink")],1),t._v("), closes "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/issues/4",target:"_blank",rel:"noopener noreferrer"}},[t._v("#4"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("strong",[t._v("tests:")]),t._v(" working directory discrepancy ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/3330d92",target:"_blank",rel:"noopener noreferrer"}},[t._v("3330d92"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("h6",{attrs:{id:"features-9"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#features-9","aria-hidden":"true"}},[t._v("#")]),t._v(" FEATURES")]),t._v(" "),r("ul",[r("li",[t._v("addt'l createTable forms, coercion config, modularize, cjs export ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/d3bab02",target:"_blank",rel:"noopener noreferrer"}},[t._v("d3bab02"),r("OutboundLink")],1),t._v(")")]),t._v(" "),r("li",[t._v("change schemaBuilder & queryBuilder to getters ("),r("a",{attrs:{href:"https://github.com/citycide/trilogy/commit/4c82d3c",target:"_blank",rel:"noopener noreferrer"}},[t._v("4c82d3c"),r("OutboundLink")],1),t._v(")")])]),t._v(" "),r("h6",{attrs:{id:"breaking-changes-4"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes-4","aria-hidden":"true"}},[t._v("#")]),t._v(" BREAKING CHANGES")]),t._v(" "),r("ul",[r("li",[t._v("Any instances of retrieving knex's schema or query builder through trilogy must now use for example: "),r("code",[t._v("db.queryBuilder.[method]")]),t._v(" instead of "),r("code",[t._v("db.getQueryBuilder().[method]")]),t._v(". The same applies to schema builder.")]),t._v(" "),r("li",[t._v("Any commonjs users "),r("code",[t._v("require")]),t._v("ing trilogy no longer need "),r("code",[t._v(".default")]),t._v(" due to using commonjs export instead of Babel's "),r("code",[t._v("export default")]),t._v(" fill.")])]),t._v(" "),r("hr"),t._v(" "),r("p",[r("a",{attrs:{name:"0.9.2"}})]),t._v(" "),r("h2",{attrs:{id:"_0-9-2-2016-09-14"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_0-9-2-2016-09-14","aria-hidden":"true"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/citycide/trilogy/compare/v0.9.2...v0.9.2",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("0.9.2")]),r("OutboundLink")],1),t._v(" (2016-09-14)")])])},[],!1,null,null,null);e.default=n.exports}}]);